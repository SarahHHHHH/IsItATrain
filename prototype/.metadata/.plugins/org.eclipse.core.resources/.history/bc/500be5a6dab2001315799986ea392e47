import java.awt.event.*;
import java.io.*;
import javax.swing.*;
import java.awt.*;
import java.util.*;

public class TrainControllerGUI 
{
	private JFrame trainFrame;
	private JPanel trainPanel;
	private JButton trainBrake, emergencyBrake, turnLight, turnDoor, setSpeed, setAuthority, setSpeedLimit,setTemp;
	private JTextField currentSpeed, currentSpeedLimit, currentAcceleration, currentLight, currentDoor, currentTemp,currentID;
	private JTextField setSpeedField, setAuthorityField, setSpeedLimitField, setTempField;
	private JLabel currentIDLabel, currentSpeedLabel, currentSpeedLimitLabel, currentAccelerationLabel, currentLightLabel, currentDoorLabel, currentTempLabel, 
	setSpeedLabel, setAuthorityLabel, setSpeedLimitLabel, errorReportLabel, setTempLabel;
	private JTextArea errorReport, annoucement;
	public int trainID=1;
	private int doorStatus=0; 
	private int lightStatus=0;
	public double currentSpeedValue, currentSpeedLimitValue, currentAccelerationValue, currentTempValue;;
	public String currentDoorStats="Closed";
	public String currentLightStats="On";
	public double setSpeedNumber, setSpeedLimitNumber, setAccelerationNumber, setTempNumber;
	public int setAuthorityNumber;
	int setDoorStats, setLightStats;
	int brakeSignal=0; 
	int emergencyBrakeSignal=0;
	String tempStr;
	double tempDouble;
	int tempInteger;
	
	public TrainControllerGUI()
	{
		trainFrame=new JFrame("Prototype GUI");
		trainPanel=new JPanel();
		trainPanel.setLayout(null);
		TrainControllerGUI.ButtonListener bListener = new TrainControllerGUI.ButtonListener();
		setSpeedNumber=50;
		setAuthorityNumber=5000;
		setSpeedLimitNumber=60;
		setTempNumber=40;
		
		trainBrake=new JButton("Brake");
		emergencyBrake=new JButton("Emergency Brake");
		turnLight=new JButton("Switch Light");
		turnDoor=new JButton("Switch Door");
		setSpeed=new JButton("Set Speed");
		setSpeedLimit=new JButton("Set Speed Limit");
		setAuthority=new JButton("Set Authority");
		setTemp=new JButton("Set Temperature");
		trainPanel.add(trainBrake);
		trainPanel.add(emergencyBrake);
		trainPanel.add(turnLight);
		trainPanel.add(turnDoor);
		trainPanel.add(setSpeed);
		trainPanel.add(setSpeedLimit);
		trainPanel.add(setAuthority);
		trainPanel.add(setTemp);
		
		trainBrake.addActionListener(bListener);
		emergencyBrake.addActionListener(bListener);
		turnLight.addActionListener(bListener);
		turnDoor.addActionListener(bListener);
		setSpeed.addActionListener(bListener);
		setSpeedLimit.addActionListener(bListener);
		setAuthority.addActionListener(bListener);
		setTemp.addActionListener(bListener);
		
		currentIDLabel=new JLabel("Train ID");
		currentSpeedLabel=new JLabel("Current Speed");
		currentSpeedLimitLabel=new JLabel("Current Speed Limit");
		currentAccelerationLabel=new JLabel("Current Acceleration");
		currentLightLabel=new JLabel("Current Light Stat");
		currentDoorLabel=new JLabel("Current Door Stat");
		currentTempLabel=new JLabel("Current Temperature");
		setSpeedLabel=new JLabel("Set Speed");
		setAuthorityLabel=new JLabel("Set Authority");
		setSpeedLimitLabel=new JLabel("Set Speed Limit");
		setTempLabel=new JLabel("Set Temperature");
		errorReportLabel=new JLabel("Error Report");
		currentID=new JTextField(trainID);
		currentSpeed=new JTextField();
		currentSpeedLimit=new JTextField();
		currentAcceleration=new JTextField();
		currentLight=new JTextField();
		currentDoor=new JTextField();
		currentTemp=new JTextField();
		setSpeedField=new JTextField("50");
		setAuthorityField=new JTextField("5000");
		setSpeedLimitField=new JTextField("60");
		setTempField=new JTextField("40");
		errorReport=new JTextArea();
		annoucement=new JTextArea();
		trainPanel.add(currentIDLabel);
		trainPanel.add(currentSpeedLabel);
		trainPanel.add(currentSpeedLimitLabel);
		trainPanel.add(currentAccelerationLabel);
		trainPanel.add(currentLightLabel);
		trainPanel.add(currentDoorLabel);
		trainPanel.add(currentTempLabel);
		trainPanel.add(setSpeedLabel);
		trainPanel.add(setAuthorityLabel);
		trainPanel.add(setSpeedLimitLabel);
		trainPanel.add(setTempLabel);
		trainPanel.add(currentID);
		trainPanel.add(currentSpeed);
		trainPanel.add(currentSpeedLimit);
		trainPanel.add(currentAcceleration);
		trainPanel.add(currentLight);
		trainPanel.add(currentDoor);
		trainPanel.add(currentTemp);
		trainPanel.add(setSpeedField);		
		trainPanel.add(setAuthorityField);
		trainPanel.add(setSpeedLimitField);
		trainPanel.add(errorReport);
		trainPanel.add(errorReportLabel);
		trainPanel.add(setTempField);
		trainPanel.add(annoucement);
		
		currentIDLabel.setBounds(100,380,200,20);
		currentID.setBounds(100,410,200,20);
		currentSpeedLabel.setBounds(100,20, 200, 20);
		currentSpeed.setBounds(100, 50, 200, 20);
		currentSpeedLimitLabel.setBounds(100, 80, 200, 20);
        currentSpeedLimit.setBounds(100, 110, 200, 20);
        currentAccelerationLabel.setBounds(100, 140, 200, 20);
        currentAcceleration.setBounds(100, 170, 200, 20);
        currentLightLabel.setBounds(100, 210, 200, 20);
        currentLight.setBounds(100, 230, 200, 20);
        currentDoorLabel.setBounds(100, 260, 200, 20);
        currentDoor.setBounds(100, 290, 200, 20);
        currentTempLabel.setBounds(100, 320, 200, 20);
        currentTemp.setBounds(100, 350, 200, 20);
        setSpeedLabel.setBounds(380, 20, 100, 20);
        setSpeedField.setBounds(480, 20, 150, 20);
        setSpeed.setBounds(650, 20, 150, 20);
        setAuthorityLabel.setBounds(380, 50, 100, 20);
        setAuthorityField.setBounds(480, 50, 150, 20);
        setAuthority.setBounds(650, 50, 150, 20);    
        setSpeedLimitLabel.setBounds(380, 80, 100, 20);
        setSpeedLimitField.setBounds(480, 80, 150, 20);
        setSpeedLimit.setBounds(650, 80, 150, 20);
        setTempLabel.setBounds(380, 110, 100, 20);
        setTempField.setBounds(480, 110, 150, 20);
        setTemp.setBounds(650, 110, 150, 20);
        trainBrake.setBounds(480, 140, 150, 20);
		emergencyBrake.setBounds(480, 170, 150, 20);
		turnLight.setBounds(480, 200, 150, 20);
		turnDoor.setBounds(480, 230, 150, 20);
		errorReport.setBounds(480,290,350,250);
		errorReportLabel.setBounds(480,320,150,20);
		annoucement.setBounds(100,440,200,100);
		
        trainFrame.add(trainPanel);
        
        trainFrame.setVisible(true);
        trainFrame.setDefaultCloseOperation(2);
        trainFrame.setSize(900, 600);
	}
	
	void updateDisplay()
	{
		currentSpeed.setText(Double.toString(currentSpeedValue));
		currentSpeedLimit.setText(Double.toString(currentSpeedLimitValue));
		currentAcceleration.setText(Double.toString(currentAccelerationValue));
		currentLight.setText(currentLightStats);
		currentDoor.setText(currentDoorStats);
		currentTemp.setText(Double.toString(currentTempValue));
		currentID.setText(Integer.toString(trainID));
		
	
	}
	
	int getGUILightSwitch()
	{
		return lightStatus;
	}
	
	int getGUIDoorSwitch()
	{
		return doorStatus;
	}
	
	int getGUIAuthority()
	{
		return setAuthorityNumber;
	}
	
	double getGUISpeed()
	{
		return setSpeedNumber;
	}
	
	double getGUISpeedLimit()
	{
		return setSpeedLimitNumber;
	}
	
	double getGUITemp()
	{
		return setTempNumber;
	}
	
	int getBrake()
	{
		return brakeSignal;
	}
	
	int getEmergencyBrake()
	{
		return emergencyBrakeSignal;
	}
	
	
	class ButtonListener implements ActionListener
	{
		public void actionPerformed(ActionEvent e)
		{
			if(e.getSource()==trainBrake)
			{
				brakeSignal=1;
				setSpeedNumber=0;
				if(currentSpeedValue==0)
				{
					brakeSignal=0;
				}
			}
			else if(e.getSource()==emergencyBrake)
			{
				emergencyBrakeSignal=1;
				setSpeedNumber=0;
				if(currentSpeedValue==0)
				{
					emergencyBrakeSignal=0;
				}
			}
			else if(e.getSource()==turnLight)
			{
				if(currentLightStats=="On")
				{
					lightStatus=0;
				}
				else
				{
					lightStatus=1;
				}
			}
			else if(e.getSource()==turnDoor)
			{
				if(currentDoorStats=="Closed")
				{
					doorStatus=1;
				}
				else
				{
					doorStatus=0;
				}
			}
			else if(e.getSource()==setSpeed)
			{
				tempStr = setSpeedField.getText();
				try
				{
		            tempDouble=Double.valueOf(tempStr);
		            setSpeedNumber=tempDouble;
		        }
				catch(Exception ex)
				{
					errorReport.append("Please enter a valid double\n");
		        }
			}
			else if(e.getSource()==setSpeedLimit)
			{
				tempStr = setSpeedLimitField.getText();
				try
				{
		            tempDouble=Double.valueOf(tempStr);
		            setSpeedLimitNumber=tempDouble;
		        }
				catch(Exception ex)
				{
					errorReport.append("Please enter a valid double\n");
		        }
			}
			else if(e.getSource()==setAuthority)
			{
				tempStr = setAuthorityField.getText();
				try
				{
					tempInteger=Integer.valueOf(tempStr);
		            setAuthorityNumber=tempInteger;
		        }
				catch(Exception ex)
				{
					errorReport.append("Please enter a valid Interger\n");
		        }
			}
			else if(e.getSource()==setTemp)
			{
				tempStr = setTempField.getText();
				try
				{
		            tempDouble=Double.valueOf(tempStr);
		            setTempNumber=tempDouble;
		        }
				catch(Exception ex)
				{
					errorReport.append("Please enter a valid double\n");
		        }
			}
		}
	}

	
	public static void main(String[] args)
	{
	   new TrainControllerGUI();
	}	
}

